

## 10_200423

> 공지

과제



게임하기

비슷한게임임을 인지하고 작성하기

몇승 몇패 몇무 를 보여주기

인터페이스도 사용해볼 것

state pattern 사용해볼 것

객체지향스럽게 작성할 것

추상클래스 이용해서 만들때 객체스럽게 설계해서 작성할 것





## 참고

![image-20200423102235971](10_Java_Class&Interface_200423.assets/image-20200423102235971.png)

눈에 보이는 사물을 객체로 취급, 추상화.

![UML-Diagram]($images/UML-Diagram.JPG)



uml

erd 



정사각형이나 직사각형은 두개의 변수가 필요한 것 처럼 보인다.

하지만 원은 좀 다름.

![image-20200424102505415]($images/image-20200424102505415.png)



![image-20200424102935898]($images/image-20200424102935898.png)









## 추상클래스

![image-20200423111728022](10_Java_Class&Interface_200423.assets/image-20200423111728022.png)

추상클래스는

`추상메소드`를 가지고 있는 클래스

강제성을 부여

![image-20200423112432531](10_Java_Class&Interface_200423.assets/image-20200423112432531.png)



![image-20200423114149447](10_Java_Class&Interface_200423.assets/image-20200423114149447.png)

**인터페이스는 추상메소드만 가지고 있어야 한다.*

:star:

![image-20200423112810194](10_Java_Class&Interface_200423.assets/image-20200423112810194.png)

![image-20200423114246125](10_Java_Class&Interface_200423.assets/image-20200423114246125.png)



## 객체의 형변환

다형성: 같은 타입이지만 실행 결과가 다양한 객체를 이용할 수 있는 성질

다형성은 **하나의 타입에 여러 객체를 대입함으로써 다양한 기능을 이용할 수 있도록 해준다**. 다형성을 위해 자바는 부모클래스로 타입 변환을 허용한다.



![image-20200423162145924](10_Java_Class&Interface_200423.assets/image-20200423162145924.png)

:star:`묵시적 형변환(자동 타입 변환)`

위는 Printer와 LGPrinter가 상속관계가 아니므로 오류

아래는 서로가 상속관계이므로 정상작동

![image-20200423162350202](10_Java_Class&Interface_200423.assets/image-20200423162350202.png)

오른쪽의 타입이 sub(자식), 왼쪽의 타입이 super(부모)

부모 타입으로 자동 타입 변환된 이후에는 `부모 클래스에 선언된 필드와 메소드만 접근`이 가능하다.

![image-20200423164217957](10_Java_Class&Interface_200423.assets/image-20200423164217957.png)

이렇게 묵시적 형변환이 이뤄지면 .power, .powerOn() 만 접근 가능하다

객체가 늘어나더라도 최상위의 클래스로 사용하면 되므로 거기에 해당하는 메소드를 각각 만들 필요가 없어서 재사용성이 확보된다.



:star:`명시적 형변환(강제 타입 변환, Casting)`

![image-20200423164301314](10_Java_Class&Interface_200423.assets/image-20200423164301314.png)

오른쪽의 타입이  super(부모), 왼쪽의 타입이 sub(자식)

자식의 타입을 반드시 명시해야 casting이 된다.

![image-20200423164806804](10_Java_Class&Interface_200423.assets/image-20200423164806804.png)

실제 부모의 공간만 있는데, 자식 공간에 있는 메소드와 필드에 접근해야 할때 명시적 형변환을 실행한다.

![image-20200423170022717](10_Java_Class&Interface_200423.assets/image-20200423170022717.png)



**자식타입이 부모타입으로 자동 변환한 후,**

**다시 자식타입으로 변환할때만 강제 타입 변환을 사용할 수 있다.**

```java

Parent p = new Child01(); // 이렇게 공간을 만들어주고
Child01 c = (Child01) p; // 명시적 형변환을 해야 한다.
// Child01 c = (Child01) new Parent(); 
// 명시적 형변환, 오류 발생
c.print();

```



## 객체 타입 확인 (객체 instanceof 타입)

강제 타입 변환시 타입확인을 하고 타입 변환을 하는 것이 안전하다.

*기본자료형에서는 사용할 수 없다.

*좌형과 우형이 상속관계여야만 한다.

```java
Parent p = new Child01();
if (p instanceof Child01) {
    System.out.println(p instanceof Child01); // true
    System.out.println(p instanceof Child02); // false
    Child01 c = (Child01) p;
    c.print();
}
```


## 인터페이스 (interface)

*다중상속은 다이아몬드 문제 발생시키므로, 자바는 다중상속을 할 수 없도록한다. 때문에 인터페이스만 다중상속을 할 수 있다. 왜냐하면 인터페이스는 내용부를 갖고있지 않기 때문이다.

![image-20200424150104506]($images/image-20200424150104506.png)

![image-20200424150211106]($images/image-20200424150211106.png)



*무조건 public 으로 작성되어있다. 코드 작성시에는 생략되어서 보여진다.

*`SeverConstants.SERVER_IP` 로 접근한다.



![image-20200424150818975]($images/image-20200424150818975.png)



![image-20200424150852676]($images/image-20200424150852676.png)



![image-20200424150943465]($images/image-20200424150943465.png)



![image-20200424151104779]($images/image-20200424151104779.png)



![image-20200424151132070]($images/image-20200424151132070.png)



**오류** 재정의를 하지않아 오류가 발생한다.

![image-20200424151153066]($images/image-20200424151153066.png)

**오류** 재정의를 했지만, 인터페이스를 오버라이드를 한 것은 무조건 public 접근제한자를 둬야하기 때문에 오류가 발생한다.

![image-20200424151257353]($images/image-20200424151257353.png)

**오류해결** public 접근제한자를 추가함으로써 오류를 해결



![image-20200424151314065]($images/image-20200424151314065.png)

![image-20200424160210865]($images/image-20200424160210865.png)





추상클래스를 하는건 어떨까 라는 생각이 들 수 있다.

TV는 `QLEDTV`가 될 수도있고, `SmartTV`가 될 수도 있으니까 다중상속이 가능한 인터페이스를 사용해야하는 것이다.

![image-20200424160621013]($images/image-20200424160621013.png)



![image-20200424161120667]($images/image-20200424161120667.png)

![image-20200424161357236]($images/image-20200424161357236.png)



---

**인터페이스**는 `상수 값`과 `추상 클래스(구현되지 않은 클래스)`만 가질 수 있다.

:star:단,  `default` 를 추가하면 구현된 메소드를 추가 할 수 있다. 여기서 default는 접근제한자를 뜻하는 것이 아니다. 근데 좋은 방법은 아니다. **구현 메소드를 갖고 싶다면 `추상클래스`로 구현하는 것이 바람직하다.**



